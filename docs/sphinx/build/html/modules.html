
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>forge.module &#8212; mdf-forge 0.5.1 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tests" href="tests.html" />
    <link rel="prev" title="mdf_forge package" href="mdf_forge.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tests.html" title="tests"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mdf_forge.html" title="mdf_forge package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mdf-forge 0.5.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mdf_forge.html" accesskey="U">mdf_forge package</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">forge.module</a><ul>
<li><a class="reference internal" href="#forge-class-forge">forge.class.Forge</a></li>
<li><a class="reference internal" href="#forge-class-query">forge.class.Query</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mdf_forge.html"
                        title="previous chapter">mdf_forge package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tests.html"
                        title="next chapter">tests</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modules.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-forge">
<span id="forge-module"></span><h1>forge.module<a class="headerlink" href="#module-forge" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="forge.Forge">
<em class="property">class </em><code class="descclassname">forge.</code><code class="descname">Forge</code><span class="sig-paren">(</span><em>index='mdf'</em>, <em>local_ep=None</em>, <em>anonymous=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Fetch metadata from Globus Search and files from the Materials Data Facility.
Forge is intended to be the best way to access MDF data for all users.
An internal Query object is used to make queries. From the user’s perspective,
an instantiation of Forge will black-box searching.</p>
<dl class="docutils">
<dt><strong>Public Variables</strong>:</dt>
<dd><ul class="first last simple">
<li><strong>local_ep</strong> is the endpoint ID of the local Globus Connect Personal endpoint.</li>
<li><strong>index is</strong> the Globus Search index to be used.</li>
</ul>
</dd>
</dl>
<p><strong>Initialize the Forge instance.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Default “mdf”.</li>
<li><strong>local_ep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The endpoint ID of the local Globus Connect Personal endpoint.
If not provided, may be autodetected as possible.</li>
<li><strong>anonymous</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will not authenticate with Globus Auth.
If <strong>False</strong>, will require authentication.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>services</strong> (<em>list of str</em>) – The services to authenticate for.
Advanced users only.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Authentication is required for some Forge functionality, including using Globus Transfer.</p>
</div>
<dl class="method">
<dt id="forge.Forge.aggregate">
<code class="descname">aggregate</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>scroll_size=10000</em>, <em>reset_query=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an advanced query, and return all matching results.
Will automatically preform multiple queries in order to retrieve all results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>scroll_size</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Minimum number of records returned per query</li>
<li><strong>reset_query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will destroy the query after execution and start a fresh one.
If <strong>False</strong>, will keep the current query alive.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All matching records</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dict</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All aggregate queries run in advanced mode.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.aggregate_source">
<code class="descname">aggregate_source</code><span class="sig-paren">(</span><em>sources</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.aggregate_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate all records from a given source.
There is no limit to the number of results returned.
Please beware of aggregating very large datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The source to aggregate.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All of the records from the source.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.current_query">
<code class="descname">current_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.current_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current query string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current query string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.exclude_field">
<code class="descname">exclude_field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em>, <em>new_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.exclude_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Exclude a field:value term from the query.
Matches will NOT have field == value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – <p>The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.</p>
<p>Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</p>
</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The value to exclude.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.exclude_range">
<code class="descname">exclude_range</code><span class="sig-paren">(</span><em>field</em>, <em>start='*'</em>, <em>stop='*'</em>, <em>inclusive=True</em>, <em>required=True</em>, <em>new_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.exclude_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Exclude a field:[some range] term to the query.
Matches will have field != values in range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.
Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The starting value. “*” is acceptable to make no lower bound.</li>
<li><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The ending value. “*” is acceptable to have no upper bound.</li>
<li><strong>inclusive</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the start and stop values will not be included in the search.
If <strong>False</strong>, the start and stop values will be included in the search.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.exclusive_match">
<code class="descname">exclusive_match</code><span class="sig-paren">(</span><em>field</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.exclusive_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Match exactly the given value, with no other data in the field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – <p>The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.</p>
<p>Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</p>
</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The value to match exactly.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.fetch_datasets_from_results">
<code class="descname">fetch_datasets_from_results</code><span class="sig-paren">(</span><em>entries=None</em>, <em>query=None</em>, <em>reset_query=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.fetch_datasets_from_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the dataset entries for given records.
Note that this method may use the current query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entries</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>list of dict</em><em>, or </em><em>tuple of dict</em>) – The records to parse to find the datasets.
entries can be a single entry, a list of entries, or a tuple with a list of entries.
The latter two options support both return values of the search() method.
If entries is <strong>None</strong>, the current query is executed and those results are used instead.</li>
<li><strong>query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – If entries is <strong>None</strong>:
Search using this query instead of the current query.
Default <strong>None</strong>, which uses the current query.</li>
<li><strong>reset_query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If entries is <strong>None</strong> and query is <strong>None</strong>:
If <strong>True</strong>, will reset the current query after searching.
If <strong>False</strong>, will leave the current query in memory.
Default <strong>True</strong>.
Else: Does nothing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The dataset entries.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.globus_download">
<code class="descname">globus_download</code><span class="sig-paren">(</span><em>results</em>, <em>dest='.'</em>, <em>dest_ep=None</em>, <em>preserve_dir=False</em>, <em>wait_for_completion=True</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.globus_download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download data files from the provided results using Globus Transfer.
This method requires Globus Connect to be installed on the destination endpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – The records from which files should be fetched.
This should be the return value of a search method.</li>
<li><strong>dest</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The destination path for the data files on the local machine.
Default current directory.</li>
<li><strong>preserve_dir</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the directory structure for the data files will be
recreated at the destination. The path to the new files
will be relative to the <cite>dest</cite> path
If <strong>False</strong>, only the data files themselves will be saved.
Default <strong>False</strong>.</li>
<li><strong>wait_for_completion</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will block until the transfer is finished.
If <strong>False</strong>, will not block.
Default <strong>True</strong>.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, status and progress messages will be printed.
If <strong>False</strong>, only error messages will be printed.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">task IDs of the Globus transfers</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.http_download">
<code class="descname">http_download</code><span class="sig-paren">(</span><em>results</em>, <em>dest='.'</em>, <em>preserve_dir=False</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.http_download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download data files from the provided results using HTTPS.
For more than HTTP_NUM_LIMIT (defined above) files, you should use globus_download(),
which uses Globus Transfer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – The records from which files should be fetched.
This should be the return value of a search method.</li>
<li><strong>dest</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The destination path for the data files on the local machine.
Default current directory.</li>
<li><strong>preserve_dir</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the directory structure for the data files will be
recreated at the destination.
If <strong>False</strong>, only the data files themselves will be saved.
Default <strong>False</strong>.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, status and progress messages will be printed.
If <strong>False</strong>, only error messages will be printed.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">success (bool): <strong>True</strong> if the operation succeeded.
<strong>False</strong> if it failed (implies message).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The error message. Not present when success is <strong>True</strong>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">message (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)">str</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.http_stream">
<code class="descname">http_stream</code><span class="sig-paren">(</span><em>results</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.http_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield data files from the provided results using HTTPS, through a generator.
For more than HTTP_NUM_LIMIT (defined above) files, you should use globus_download(),
which uses Globus Transfer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – The records from which files should be fetched.
This should be the return value of a search method.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, status and progress messages will be printed.
If <strong>False</strong>, only error messages will be printed.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>str</em> – Text of each data file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_elements">
<code class="descname">match_elements</code><span class="sig-paren">(</span><em>elements</em>, <em>match_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add elemental abbreviations to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elements</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The elements to match.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add with AND.
If <strong>False</strong>, will use OR.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_field">
<code class="descname">match_field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em>, <em>required=True</em>, <em>new_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a field:value term to the query.
Matches will have field == value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.
Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The value to match.</li>
<li><strong>required</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add term with AND. If <strong>False</strong>, will use OR. Default <strong>True</strong>.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_ids">
<code class="descname">match_ids</code><span class="sig-paren">(</span><em>mdf_ids</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Match all the IDs in the given mdf_id list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mdf_ids</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The IDs to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_range">
<code class="descname">match_range</code><span class="sig-paren">(</span><em>field</em>, <em>start='*'</em>, <em>stop='*'</em>, <em>inclusive=True</em>, <em>required=True</em>, <em>new_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a field:[some range] term to the query.
Matches will have field == value in range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.
Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The starting value. “*” is acceptable to make no lower bound.</li>
<li><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The ending value. “*” is acceptable to have no upper bound.</li>
<li><strong>inclusive</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the start and stop values will be included in the search.
If <strong>False</strong>, the start and stop values will not be included in the search.</li>
<li><strong>required</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add term with AND. If <strong>False</strong>, will use OR. Default <strong>True</strong>.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_resource_types">
<code class="descname">match_resource_types</code><span class="sig-paren">(</span><em>types</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_resource_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Match the given resource types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>types</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The resource_types to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_sources">
<code class="descname">match_sources</code><span class="sig-paren">(</span><em>sources</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Add sources to match to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The sources to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_tags">
<code class="descname">match_tags</code><span class="sig-paren">(</span><em>tags</em>, <em>match_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Add tags to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tags</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The tags (keywords) to match.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add with AND.
If <strong>False</strong>, will use OR. Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_titles">
<code class="descname">match_titles</code><span class="sig-paren">(</span><em>titles</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Add titles to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>titles</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The titles to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.match_years">
<code class="descname">match_years</code><span class="sig-paren">(</span><em>years=None</em>, <em>start=None</em>, <em>stop=None</em>, <em>inclusive=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.match_years" title="Permalink to this definition">¶</a></dt>
<dd><p>Add years and limits to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>years</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em> or </em><em>string</em><em>, or </em><em>list of int</em><em> or </em><em>strings</em>) – The years to match.
Note that this argument overrides the start, stop, and inclusive arguments.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em> or </em><em>string</em>) – The lower range of years to match.</li>
<li><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em> or </em><em>string</em>) – The upper range of years to match.</li>
<li><strong>inclusive</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the start and stop values will be included in the search.
If <strong>False</strong>, they will be excluded.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="forge.Forge.mdf_authorizer">
<code class="descname">mdf_authorizer</code><a class="headerlink" href="#forge.Forge.mdf_authorizer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="forge.Forge.reset_query">
<code class="descname">reset_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.reset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the current query and create a fresh one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Does not return self because this method should not be chained.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>advanced=False</em>, <em>limit=10000</em>, <em>info=False</em>, <em>reset_query=True</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a search and return the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>advanced</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will submit query in “advanced” mode to enable field matches.
If <strong>False</strong>, only basic fulltext term matches will be supported.
Default <strong>False</strong>.
This value will change to <strong>True</strong> automatically
if the query is built with helpers.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list
and other information about the query.
Default <strong>False</strong>.</li>
<li><strong>reset_query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will destroy the query after execution and start a fresh one.
If <strong>False</strong>, keeps the current query alive.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.search_by_elements">
<code class="descname">search_by_elements</code><span class="sig-paren">(</span><em>elements</em>, <em>sources=[]</em>, <em>index=None</em>, <em>limit=None</em>, <em>match_all=True</em>, <em>info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.search_by_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a search for the given elements in the given sources.
search_by_elements([x], [y]) is equivalent to
match_elements([x]).match_sources([y]).search()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elements</strong> (<em>list of str</em>) – The elements to match. Default [].</li>
<li><strong>sources</strong> (<em>list of str</em>) – The sources to match. Default [].</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add elements with AND.
If <strong>False</strong>, will use OR.
Default <strong>True</strong>.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list,
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method does use terms from the current query.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.search_by_tags">
<code class="descname">search_by_tags</code><span class="sig-paren">(</span><em>tags</em>, <em>index=None</em>, <em>limit=None</em>, <em>match_all=True</em>, <em>info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.search_by_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a search for the given tag.
search_by_tags([x]) is equivalent to match_tags([x]).search()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tags</strong> (<em>list of str</em>) – The tags to match. Default [].</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add elements with AND.
If <strong>False</strong>, will use OR.
Default <strong>True</strong>.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list,
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Forge.search_by_titles">
<code class="descname">search_by_titles</code><span class="sig-paren">(</span><em>titles</em>, <em>index=None</em>, <em>limit=None</em>, <em>info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.search_by_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a search for the given titles.
search_by_titles([x]) is equivalent to match_titles([x]).search()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>titles</strong> (<em>list of str</em>) – The titles to match. Default [].</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list,
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="forge.Forge.search_client">
<code class="descname">search_client</code><a class="headerlink" href="#forge.Forge.search_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="forge.Forge.show_fields">
<code class="descname">show_fields</code><span class="sig-paren">(</span><em>block=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Forge.show_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve and return the mapping for the given metadata block.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>block</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The top-level field to fetch the mapping for.
Default <strong>None</strong>, which lists just the blocks.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to map. Defaults to the current index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A set of field:datatype pairs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="forge.Forge.transfer_client">
<code class="descname">transfer_client</code><a class="headerlink" href="#forge.Forge.transfer_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="forge.Query">
<em class="property">class </em><code class="descclassname">forge.</code><code class="descname">Query</code><span class="sig-paren">(</span><em>search_client</em>, <em>q=None</em>, <em>limit=None</em>, <em>advanced=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The Query class is meant for internal Forge use. Users should not instantiate
a Query object directly, as Forge already manages a Query,
but advanced users may do so at their own risk.
Using Query directly is an unsupported behavior
and may have unexpected results or unlisted changes in the future.</p>
<p>Queries may end up wrapped in parentheses, which has no direct effect on the search.
Adding terms must be chained with .and() or .or().
Terms will not have spaces in between otherwise, and it is desirable to be explicit about
which terms are required.</p>
<p><strong>Initialize the Query instance</strong>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>search_client</strong> (<em>SearchClient</em>) – The Globus Search client to use for searching.</li>
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query string to start with. Default nothing.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return. Default <strong>None</strong>.</li>
<li><strong>advanced</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will submit query in “advanced” mode to enable field matches.
If <strong>False</strong>, only basic fulltext term matches will be supported.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="forge.Query.aggregate">
<code class="descname">aggregate</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>scroll_size=10000</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all results that match a specific query</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>scroll_size</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Maximum number of records requested per request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All matching records.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dict</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All aggregate queries run in advanced mode.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="forge.Query.and_join">
<code class="descname">and_join</code><span class="sig-paren">(</span><em>close_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.and_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine terms with AND.
There must be a term added before using this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>close_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will end the current group and start a new one.
If <strong>False</strong>, will continue current group.</p>
<p>Example: If the current query is “(term1”</p>
<p>.and(close_group=True) =&gt; “(term1) AND (“</p>
<p>.and(close_group=False) =&gt; “(term1 AND “</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.clean_query">
<code class="descname">clean_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.clean_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current query, cleaned for user consumption,</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The clean current query.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.field">
<code class="descname">field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a field:value term to the query.
Matches will have field == value.
This method sets advanced=True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to look in for the value.</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The value to match.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.mapping">
<code class="descname">mapping</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the mapping for the specified index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The index to map.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The full mapping for the index.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.negate">
<code class="descname">negate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.negate" title="Permalink to this definition">¶</a></dt>
<dd><p>Negates the next term with NOT.</p>
</dd></dl>

<dl class="method">
<dt id="forge.Query.operator">
<code class="descname">operator</code><span class="sig-paren">(</span><em>op</em>, <em>close_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Add operator between terms.
There must be a term added before using this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>op</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The operator to add. Must be in the OP_LIST defined below.</li>
<li><strong>close_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will end the current parenthetical group and start a new one.
If <strong>False</strong>, will continue current group.</p>
<p>Example: “(foo AND bar)” is one group.
“(foo) and (bar)” is two groups.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.or_join">
<code class="descname">or_join</code><span class="sig-paren">(</span><em>close_group=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.or_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine terms with OR.
There must be a term added before using this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>close_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will end the current group and start a new one.
If <strong>False</strong>, will continue current group.</p>
<p>Example: If the current query is “(term1”</p>
<p>.or(close_group=True) =&gt; “(term1) OR(“</p>
<p>.or(close_group=False) =&gt; “(term1 OR “</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>advanced=None</em>, <em>limit=10000</em>, <em>info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a search and return the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Required.</li>
<li><strong>advanced</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will submit query in “advanced” mode to enable field matches.
If <strong>False</strong>, only basic fulltext term matches will be supported.
Default <strong>False</strong>.</p>
<p>This value will change to <strong>True</strong> automatically if
the query is built with helpers.</p>
</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="forge.Query.term">
<code class="descname">term</code><span class="sig-paren">(</span><em>term</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.Query.term" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a term to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>term</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The term to add.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="forge-class-forge">
<h2>forge.class.Forge<a class="headerlink" href="#forge-class-forge" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">forge.</code><code class="descname">Forge</code><span class="sig-paren">(</span><em>index='mdf'</em>, <em>local_ep=None</em>, <em>anonymous=False</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Fetch metadata from Globus Search and files from the Materials Data Facility.
Forge is intended to be the best way to access MDF data for all users.
An internal Query object is used to make queries. From the user’s perspective,
an instantiation of Forge will black-box searching.</p>
<dl class="docutils">
<dt><strong>Public Variables</strong>:</dt>
<dd><ul class="first last simple">
<li><strong>local_ep</strong> is the endpoint ID of the local Globus Connect Personal endpoint.</li>
<li><strong>index is</strong> the Globus Search index to be used.</li>
</ul>
</dd>
</dl>
<p><strong>Initialize the Forge instance.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Default “mdf”.</li>
<li><strong>local_ep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The endpoint ID of the local Globus Connect Personal endpoint.
If not provided, may be autodetected as possible.</li>
<li><strong>anonymous</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will not authenticate with Globus Auth.
If <strong>False</strong>, will require authentication.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>services</strong> (<em>list of str</em>) – The services to authenticate for.
Advanced users only.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Authentication is required for some Forge functionality, including using Globus Transfer.</p>
</div>
<dl class="method">
<dt>
<code class="descname">aggregate</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>scroll_size=10000</em>, <em>reset_query=True</em><span class="sig-paren">)</span></dt>
<dd><p>Perform an advanced query, and return all matching results.
Will automatically preform multiple queries in order to retrieve all results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>scroll_size</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Minimum number of records returned per query</li>
<li><strong>reset_query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will destroy the query after execution and start a fresh one.
If <strong>False</strong>, will keep the current query alive.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All matching records</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dict</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All aggregate queries run in advanced mode.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">aggregate_source</code><span class="sig-paren">(</span><em>sources</em>, <em>index=None</em><span class="sig-paren">)</span></dt>
<dd><p>Aggregate all records from a given source.
There is no limit to the number of results returned.
Please beware of aggregating very large datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The source to aggregate.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All of the records from the source.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">current_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Return the current query string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current query string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">exclude_field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em>, <em>new_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Exclude a field:value term from the query.
Matches will NOT have field == value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – <p>The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.</p>
<p>Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</p>
</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The value to exclude.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">exclude_range</code><span class="sig-paren">(</span><em>field</em>, <em>start='*'</em>, <em>stop='*'</em>, <em>inclusive=True</em>, <em>required=True</em>, <em>new_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Exclude a field:[some range] term to the query.
Matches will have field != values in range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.
Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The starting value. “*” is acceptable to make no lower bound.</li>
<li><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The ending value. “*” is acceptable to have no upper bound.</li>
<li><strong>inclusive</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the start and stop values will not be included in the search.
If <strong>False</strong>, the start and stop values will be included in the search.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">exclusive_match</code><span class="sig-paren">(</span><em>field</em>, <em>value</em><span class="sig-paren">)</span></dt>
<dd><p>Match exactly the given value, with no other data in the field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – <p>The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.</p>
<p>Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</p>
</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The value to match exactly.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">fetch_datasets_from_results</code><span class="sig-paren">(</span><em>entries=None</em>, <em>query=None</em>, <em>reset_query=True</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve the dataset entries for given records.
Note that this method may use the current query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entries</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>list of dict</em><em>, or </em><em>tuple of dict</em>) – The records to parse to find the datasets.
entries can be a single entry, a list of entries, or a tuple with a list of entries.
The latter two options support both return values of the search() method.
If entries is <strong>None</strong>, the current query is executed and those results are used instead.</li>
<li><strong>query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – If entries is <strong>None</strong>:
Search using this query instead of the current query.
Default <strong>None</strong>, which uses the current query.</li>
<li><strong>reset_query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If entries is <strong>None</strong> and query is <strong>None</strong>:
If <strong>True</strong>, will reset the current query after searching.
If <strong>False</strong>, will leave the current query in memory.
Default <strong>True</strong>.
Else: Does nothing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The dataset entries.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">globus_download</code><span class="sig-paren">(</span><em>results</em>, <em>dest='.'</em>, <em>dest_ep=None</em>, <em>preserve_dir=False</em>, <em>wait_for_completion=True</em>, <em>verbose=True</em><span class="sig-paren">)</span></dt>
<dd><p>Download data files from the provided results using Globus Transfer.
This method requires Globus Connect to be installed on the destination endpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – The records from which files should be fetched.
This should be the return value of a search method.</li>
<li><strong>dest</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The destination path for the data files on the local machine.
Default current directory.</li>
<li><strong>preserve_dir</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the directory structure for the data files will be
recreated at the destination. The path to the new files
will be relative to the <cite>dest</cite> path
If <strong>False</strong>, only the data files themselves will be saved.
Default <strong>False</strong>.</li>
<li><strong>wait_for_completion</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will block until the transfer is finished.
If <strong>False</strong>, will not block.
Default <strong>True</strong>.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, status and progress messages will be printed.
If <strong>False</strong>, only error messages will be printed.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">task IDs of the Globus transfers</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">http_download</code><span class="sig-paren">(</span><em>results</em>, <em>dest='.'</em>, <em>preserve_dir=False</em>, <em>verbose=True</em><span class="sig-paren">)</span></dt>
<dd><p>Download data files from the provided results using HTTPS.
For more than HTTP_NUM_LIMIT (defined above) files, you should use globus_download(),
which uses Globus Transfer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – The records from which files should be fetched.
This should be the return value of a search method.</li>
<li><strong>dest</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The destination path for the data files on the local machine.
Default current directory.</li>
<li><strong>preserve_dir</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the directory structure for the data files will be
recreated at the destination.
If <strong>False</strong>, only the data files themselves will be saved.
Default <strong>False</strong>.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, status and progress messages will be printed.
If <strong>False</strong>, only error messages will be printed.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">success (bool): <strong>True</strong> if the operation succeeded.
<strong>False</strong> if it failed (implies message).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The error message. Not present when success is <strong>True</strong>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">message (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)">str</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">http_stream</code><span class="sig-paren">(</span><em>results</em>, <em>verbose=True</em><span class="sig-paren">)</span></dt>
<dd><p>Yield data files from the provided results using HTTPS, through a generator.
For more than HTTP_NUM_LIMIT (defined above) files, you should use globus_download(),
which uses Globus Transfer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – The records from which files should be fetched.
This should be the return value of a search method.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, status and progress messages will be printed.
If <strong>False</strong>, only error messages will be printed.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>str</em> – Text of each data file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_elements</code><span class="sig-paren">(</span><em>elements</em>, <em>match_all=True</em><span class="sig-paren">)</span></dt>
<dd><p>Add elemental abbreviations to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elements</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The elements to match.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add with AND.
If <strong>False</strong>, will use OR.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em>, <em>required=True</em>, <em>new_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Add a field:value term to the query.
Matches will have field == value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.
Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The value to match.</li>
<li><strong>required</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add term with AND. If <strong>False</strong>, will use OR. Default <strong>True</strong>.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_ids</code><span class="sig-paren">(</span><em>mdf_ids</em><span class="sig-paren">)</span></dt>
<dd><p>Match all the IDs in the given mdf_id list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mdf_ids</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The IDs to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_range</code><span class="sig-paren">(</span><em>field</em>, <em>start='*'</em>, <em>stop='*'</em>, <em>inclusive=True</em>, <em>required=True</em>, <em>new_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Add a field:[some range] term to the query.
Matches will have field == value in range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to check for the value.
The field must be namespaced according to Elasticsearch rules using the dot syntax.
Ex. “mdf.source_name” is the “source_name” field of the “mdf” dictionary.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The starting value. “*” is acceptable to make no lower bound.</li>
<li><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The ending value. “*” is acceptable to have no upper bound.</li>
<li><strong>inclusive</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the start and stop values will be included in the search.
If <strong>False</strong>, the start and stop values will not be included in the search.</li>
<li><strong>required</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add term with AND. If <strong>False</strong>, will use OR. Default <strong>True</strong>.</li>
<li><strong>new_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will separate term into new parenthetical group.
If <strong>False</strong>, will not.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_resource_types</code><span class="sig-paren">(</span><em>types</em><span class="sig-paren">)</span></dt>
<dd><p>Match the given resource types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>types</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The resource_types to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_sources</code><span class="sig-paren">(</span><em>sources</em><span class="sig-paren">)</span></dt>
<dd><p>Add sources to match to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The sources to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_tags</code><span class="sig-paren">(</span><em>tags</em>, <em>match_all=True</em><span class="sig-paren">)</span></dt>
<dd><p>Add tags to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tags</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The tags (keywords) to match.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add with AND.
If <strong>False</strong>, will use OR. Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_titles</code><span class="sig-paren">(</span><em>titles</em><span class="sig-paren">)</span></dt>
<dd><p>Add titles to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>titles</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em> or </em><em>list of str</em>) – The titles to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">match_years</code><span class="sig-paren">(</span><em>years=None</em>, <em>start=None</em>, <em>stop=None</em>, <em>inclusive=True</em><span class="sig-paren">)</span></dt>
<dd><p>Add years and limits to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>years</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em> or </em><em>string</em><em>, or </em><em>list of int</em><em> or </em><em>strings</em>) – The years to match.
Note that this argument overrides the start, stop, and inclusive arguments.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em> or </em><em>string</em>) – The lower range of years to match.</li>
<li><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em> or </em><em>string</em>) – The upper range of years to match.</li>
<li><strong>inclusive</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, the start and stop values will be included in the search.
If <strong>False</strong>, they will be excluded.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Forge" title="forge.Forge">Forge</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Destroy the current query and create a fresh one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Does not return self because this method should not be chained.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">search</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>advanced=False</em>, <em>limit=10000</em>, <em>info=False</em>, <em>reset_query=True</em><span class="sig-paren">)</span></dt>
<dd><p>Execute a search and return the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>advanced</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will submit query in “advanced” mode to enable field matches.
If <strong>False</strong>, only basic fulltext term matches will be supported.
Default <strong>False</strong>.
This value will change to <strong>True</strong> automatically
if the query is built with helpers.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list
and other information about the query.
Default <strong>False</strong>.</li>
<li><strong>reset_query</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will destroy the query after execution and start a fresh one.
If <strong>False</strong>, keeps the current query alive.
Default <strong>True</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">search_by_elements</code><span class="sig-paren">(</span><em>elements</em>, <em>sources=[]</em>, <em>index=None</em>, <em>limit=None</em>, <em>match_all=True</em>, <em>info=False</em><span class="sig-paren">)</span></dt>
<dd><p>Execute a search for the given elements in the given sources.
search_by_elements([x], [y]) is equivalent to
match_elements([x]).match_sources([y]).search()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elements</strong> (<em>list of str</em>) – The elements to match. Default [].</li>
<li><strong>sources</strong> (<em>list of str</em>) – The sources to match. Default [].</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add elements with AND.
If <strong>False</strong>, will use OR.
Default <strong>True</strong>.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list,
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method does use terms from the current query.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">search_by_tags</code><span class="sig-paren">(</span><em>tags</em>, <em>index=None</em>, <em>limit=None</em>, <em>match_all=True</em>, <em>info=False</em><span class="sig-paren">)</span></dt>
<dd><p>Execute a search for the given tag.
search_by_tags([x]) is equivalent to match_tags([x]).search()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tags</strong> (<em>list of str</em>) – The tags to match. Default [].</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will add elements with AND.
If <strong>False</strong>, will use OR.
Default <strong>True</strong>.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list,
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">search_by_titles</code><span class="sig-paren">(</span><em>titles</em>, <em>index=None</em>, <em>limit=None</em>, <em>info=False</em><span class="sig-paren">)</span></dt>
<dd><p>Execute a search for the given titles.
search_by_titles([x]) is equivalent to match_titles([x]).search()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>titles</strong> (<em>list of str</em>) – The titles to match. Default [].</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Defaults to the current index.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list,
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_fields</code><span class="sig-paren">(</span><em>block=None</em>, <em>index=None</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve and return the mapping for the given metadata block.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>block</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The top-level field to fetch the mapping for.
Default <strong>None</strong>, which lists just the blocks.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to map. Defaults to the current index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A set of field:datatype pairs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="forge-class-query">
<h2>forge.class.Query<a class="headerlink" href="#forge-class-query" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">forge.</code><code class="descname">Query</code><span class="sig-paren">(</span><em>search_client</em>, <em>q=None</em>, <em>limit=None</em>, <em>advanced=False</em><span class="sig-paren">)</span></dt>
<dd><p>The Query class is meant for internal Forge use. Users should not instantiate
a Query object directly, as Forge already manages a Query,
but advanced users may do so at their own risk.
Using Query directly is an unsupported behavior
and may have unexpected results or unlisted changes in the future.</p>
<p>Queries may end up wrapped in parentheses, which has no direct effect on the search.
Adding terms must be chained with .and() or .or().
Terms will not have spaces in between otherwise, and it is desirable to be explicit about
which terms are required.</p>
<p><strong>Initialize the Query instance</strong>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>search_client</strong> (<em>SearchClient</em>) – The Globus Search client to use for searching.</li>
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query string to start with. Default nothing.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return. Default <strong>None</strong>.</li>
<li><strong>advanced</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>True</strong>, will submit query in “advanced” mode to enable field matches.
If <strong>False</strong>, only basic fulltext term matches will be supported.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">aggregate</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>scroll_size=10000</em><span class="sig-paren">)</span></dt>
<dd><p>Gather all results that match a specific query</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>scroll_size</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Maximum number of records requested per request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All matching records.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dict</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All aggregate queries run in advanced mode.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">and_join</code><span class="sig-paren">(</span><em>close_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Combine terms with AND.
There must be a term added before using this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>close_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will end the current group and start a new one.
If <strong>False</strong>, will continue current group.</p>
<p>Example: If the current query is “(term1”</p>
<p>.and(close_group=True) =&gt; “(term1) AND (“</p>
<p>.and(close_group=False) =&gt; “(term1 AND “</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clean_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns the current query, cleaned for user consumption,</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The clean current query.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em><span class="sig-paren">)</span></dt>
<dd><p>Add a field:value term to the query.
Matches will have field == value.
This method sets advanced=True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The field to look in for the value.</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The value to match.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">mapping</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span></dt>
<dd><p>Fetch the mapping for the specified index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The index to map.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The full mapping for the index.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">negate</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Negates the next term with NOT.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">operator</code><span class="sig-paren">(</span><em>op</em>, <em>close_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Add operator between terms.
There must be a term added before using this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>op</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The operator to add. Must be in the OP_LIST defined below.</li>
<li><strong>close_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will end the current parenthetical group and start a new one.
If <strong>False</strong>, will continue current group.</p>
<p>Example: “(foo AND bar)” is one group.
“(foo) and (bar)” is two groups.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For chaining.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">or_join</code><span class="sig-paren">(</span><em>close_group=False</em><span class="sig-paren">)</span></dt>
<dd><p>Combine terms with OR.
There must be a term added before using this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>close_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will end the current group and start a new one.
If <strong>False</strong>, will continue current group.</p>
<p>Example: If the current query is “(term1”</p>
<p>.or(close_group=True) =&gt; “(term1) OR(“</p>
<p>.or(close_group=False) =&gt; “(term1 OR “</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">search</code><span class="sig-paren">(</span><em>q=None</em>, <em>index=None</em>, <em>advanced=None</em>, <em>limit=10000</em>, <em>info=False</em><span class="sig-paren">)</span></dt>
<dd><p>Execute a search and return the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The query to execute. Defaults to the current query, if any.
There must be some query to execute.</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The Globus Search index to search on. Required.</li>
<li><strong>advanced</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – <p>If <strong>True</strong>, will submit query in “advanced” mode to enable field matches.
If <strong>False</strong>, only basic fulltext term matches will be supported.
Default <strong>False</strong>.</p>
<p>This value will change to <strong>True</strong> automatically if
the query is built with helpers.</p>
</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The maximum number of results to return.
The max for this argument is the SEARCH_LIMIT imposed by Globus Search.</li>
<li><strong>info</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If <strong>False</strong>, search will return a list of the results.
If <strong>True</strong>, search will return a tuple containing the results list
and other information about the query.
Default <strong>False</strong>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list (if info=False)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The results, and a dictionary of query information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (if info=True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">term</code><span class="sig-paren">(</span><em>term</em><span class="sig-paren">)</span></dt>
<dd><p>Add a term to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>term</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The term to add.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">For chaining.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">self (<a class="reference internal" href="#forge.Query" title="forge.Query">Query</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tests.html" title="tests"
             >next</a> |</li>
        <li class="right" >
          <a href="mdf_forge.html" title="mdf_forge package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mdf-forge 0.5.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mdf_forge.html" >mdf_forge package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Apache License, Version 2.0.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.0.
    </div>
  </body>
</html>